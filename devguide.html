<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>GeoWave Developer Guide</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400";
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#222;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#222;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight: 300;font-style:normal;color:#222;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#222;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color: #222;margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#222;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#222;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#222;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-check-square-o:first-child,ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after,a[href^="mailto:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<!-- docinfo.html -->
<link rel="icon"
type="image/png"
href="images/geowave-icon-logo-small.png">
</head>
<body class="book toc2 toc-right">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#geowave-developer-guide-span-class-image-img-src-images-geowave-icon-logo-cropped-png-alt-geowave-icon-logo-cropped-width-28-span">GeoWave Developer Guide <span class="image"><img src="./images/geowave-icon-logo-cropped.png" alt="geowave-icon-logo-cropped" width="28%"></span></a>
<ul class="sectlevel1">
<li><a href="#links">Links</a>
<ul class="sectlevel2">
<li><a href="#span-class-icon-i-class-fa-fa-home-i-span-a-href-http-locationtech-github-io-geowave-target-_blank-site-a"><span class="icon"><i class="fa fa-home"></i></span> <a href="http://locationtech.github.io/geowave/" target="_blank">Site</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-pdf-o-i-span-a-href-https-s3-amazonaws-com-geowave-latest-docs-devguide-pdf-target-_blank-pdf-a"><span class="icon"><i class="fa fa-file-pdf-o"></i></span> <a href="https://s3.amazonaws.com/geowave/latest/docs/devguide.pdf" target="_blank">PDF</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-apidocs-index-html-target-_blank-javadoc-a"><span class="icon"><i class="fa fa-file-code-o"></i></span> <a href="apidocs/index.html" target="_blank">Javadoc</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-github-i-span-a-href-https-github-com-locationtech-geowave-target-_blank-github-a"><span class="icon"><i class="fa fa-github"></i></span> <a href="https://github.com/locationtech/geowave" target="_blank">GitHub</a></a></li>
<li><a href="#span-class-icon-i-class-fa-fa-file-archive-o-i-span-a-href-packages-html-target-_blank-packages-a"><span class="icon"><i class="fa fa-file-archive-o"></i></span> <a href="packages.html" target="_blank">Packages</a></a></li>
</ul>
</li>
<li><a href="#introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#what-is-geowave">What is GeoWave</a></li>
<li><a href="#origin">Origin</a></li>
<li><a href="#intent">Intent</a></li>
</ul>
</li>
<li><a href="#overview">Overview</a></li>
<li><a href="#assumptions-2">Assumptions</a>
<ul class="sectlevel2">
<li><a href="#development-building">Development &amp; Building</a></li>
<li><a href="#external-components">External Components</a></li>
</ul>
</li>
<li><a href="#development-setup">Development Setup</a>
<ul class="sectlevel2">
<li><a href="#overview-2">Overview</a></li>
<li><a href="#retrieving_geowave_code">Retrieving the Code</a></li>
<li><a href="#building-code">Building the Source</a></li>
<li><a href="#creating-eclipse-projects">Creating Eclipse Projects</a></li>
<li><a href="#packaging-the-source">Packaging the Source</a></li>
<li><a href="#contributions">How to Contribute</a></li>
</ul>
</li>
<li><a href="#architecture">Architecture</a>
<ul class="sectlevel2">
<li><a href="#overview-3">Overview</a></li>
<li><a href="#persistence">Persistence</a></li>
<li><a href="#architecture-indexes">Indexes</a></li>
<li><a href="#architecture-adapters">Adapters</a></li>
<li><a href="#architecture-accumulo">Key Structure</a></li>
</ul>
</li>
<li><a href="#statistics-2">Statistics</a>
<ul class="sectlevel2">
<li><a href="#table-structure">Table Structure</a></li>
</ul>
</li>
<li><a href="#ingest">Ingest</a>
<ul class="sectlevel2">
<li><a href="#overview-4">Overview</a></li>
<li><a href="#ingest-plugins">Ingest Plugins</a></li>
<li><a href="#index-strategies-2">Index Strategies</a></li>
<li><a href="#ingest-new-formats">New Formats</a></li>
</ul>
</li>
<li><a href="#analytics-overview">Analytics</a>
<ul class="sectlevel2">
<li><a href="#overview-5">Overview</a></li>
<li><a href="#building-2">Building</a></li>
<li><a href="#running">Running</a></li>
<li><a href="#analytic-commands">Analytic Commands</a></li>
</ul>
</li>
<li><a href="#query">Query</a>
<ul class="sectlevel2">
<li><a href="#query-overview">Overview</a></li>
<li><a href="#query-impl">Query Implementation</a></li>
<li><a href="#query-cql">Contextual Query Language</a></li>
</ul>
</li>
<li><a href="#services">Services</a>
<ul class="sectlevel2">
<li><a href="#grpc">gRPC</a></li>
</ul>
</li>
<li><a href="#third-party">Third Party</a>
<ul class="sectlevel2">
<li><a href="#geoserver">GeoServer</a></li>
</ul>
</li>
<li><a href="#installation-from-rpm">Installation from RPM</a></li>
<li><a href="#maven-repositories-2">Maven Repositories</a>
<ul class="sectlevel2">
<li><a href="#overview-6">Overview</a></li>
<li><a href="#maven-pom-fragments">Maven POM fragments</a></li>
<li><a href="#maven-settings-xml-fragments">Maven settings.xml fragments</a></li>
</ul>
</li>
<li><a href="#create-third-party-plugins">Create Third-Party Plugins</a>
<ul class="sectlevel2">
<li><a href="#geoserver-plugin">GeoServer Plugin</a></li>
<li><a href="#accumulo-plugin">Accumulo Plugin</a></li>
<li><a href="#hbase-plugin">HBase Plugin</a></li>
</ul>
</li>
<li><a href="#jace-jni-proxies-2">Jace JNI Proxies</a>
<ul class="sectlevel2">
<li><a href="#proxies">Prepackaged Source and Binaries</a></li>
<li><a href="#generate-proxies-and-build-from-source">Generate Proxies and Build from Source</a></li>
<li><a href="#mapnik-plugin-configuration">Mapnik Plugin Configuration</a></li>
<li><a href="#pdal-plugin-configuration">PDAL Plugin Configuration</a></li>
</ul>
</li>
<li><a href="#documentation-2">Documentation</a>
<ul class="sectlevel2">
<li><a href="#overview-7">Overview</a></li>
<li><a href="#ordering">Ordering</a></li>
<li><a href="#preview">Preview</a></li>
<li><a href="#site">Site</a></li>
</ul>
</li>
<li><a href="#appendices">Appendices</a>
<ul class="sectlevel2">
<li><a href="#version">Version</a></li>
<li><a href="#geowave-project-descriptions">GeoWave Project Descriptions</a></li>
<li><a href="#theory">Theory</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><em>v1.0.0-SNAPSHOT</em></p>
</div>
</div>
</div>
<h1 id="geowave-developer-guide-span-class-image-img-src-images-geowave-icon-logo-cropped-png-alt-geowave-icon-logo-cropped-width-28-span" class="sect0"><a class="anchor" href="#geowave-developer-guide-span-class-image-img-src-images-geowave-icon-logo-cropped-png-alt-geowave-icon-logo-cropped-width-28-span"></a>GeoWave Developer Guide <span class="image"><img src="./images/geowave-icon-logo-cropped.png" alt="geowave-icon-logo-cropped" width="28%"></span></h1>
<div class="sect1">
<h2 id="links"><a class="anchor" href="#links"></a>Links</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-home-i-span-a-href-http-locationtech-github-io-geowave-target-_blank-site-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-home-i-span-a-href-http-locationtech-github-io-geowave-target-_blank-site-a"></a><span class="icon"><i class="fa fa-home"></i></span> <a href="http://locationtech.github.io/geowave/" target="_blank">Site</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-pdf-o-i-span-a-href-https-s3-amazonaws-com-geowave-latest-docs-devguide-pdf-target-_blank-pdf-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-pdf-o-i-span-a-href-https-s3-amazonaws-com-geowave-latest-docs-devguide-pdf-target-_blank-pdf-a"></a><span class="icon"><i class="fa fa-file-pdf-o"></i></span> <a href="https://s3.amazonaws.com/geowave/latest/docs/devguide.pdf" target="_blank">PDF</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-apidocs-index-html-target-_blank-javadoc-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-code-o-i-span-a-href-apidocs-index-html-target-_blank-javadoc-a"></a><span class="icon"><i class="fa fa-file-code-o"></i></span> <a href="apidocs/index.html" target="_blank">Javadoc</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-github-i-span-a-href-https-github-com-locationtech-geowave-target-_blank-github-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-github-i-span-a-href-https-github-com-locationtech-geowave-target-_blank-github-a"></a><span class="icon"><i class="fa fa-github"></i></span> <a href="https://github.com/locationtech/geowave" target="_blank">GitHub</a></h3>

</div>
<div class="sect2">
<h3 id="span-class-icon-i-class-fa-fa-file-archive-o-i-span-a-href-packages-html-target-_blank-packages-a"><a class="anchor" href="#span-class-icon-i-class-fa-fa-file-archive-o-i-span-a-href-packages-html-target-_blank-packages-a"></a><span class="icon"><i class="fa fa-file-archive-o"></i></span> <a href="packages.html" target="_blank">Packages</a></h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="what-is-geowave"><a class="anchor" href="#what-is-geowave"></a>What is GeoWave</h3>
<div class="paragraph">
<p>GeoWave is an open-source library for storage, index, and search of multi-dimensional data on top of sorted key-value datastores and popular big data frameworks. GeoWave includes specific tailored implementations that have advanced support for OGC spatial types (up to 3 dimensions), and both bounded and unbounded temporal values. Both single and ranged values are supported on all axes. GeoWave’s geospatial support is built on top of the GeoTools project extensibility model. This means that it can integrate natively with any GeoTools-compatible project such as GeoServer and UDig, and can ingest GeoTools compatible data sources.</p>
</div>
<div class="paragraph">
<p>GeoWave provides out-of-the-box support for distributed key/value stores, as necessary for mission needs. The latest version of GeoWave supports <a href="https://accumulo.apache.org" target="_blank">Apache Accumulo</a> and <a href="https://hbase.apache.org" target="_blank">Apache HBase</a> stores, though additional data stores can be implemented as requested or needed.</p>
</div>
<div class="paragraph">
<p>This guide serves the purpose of focusing on the development side of GeoWave capabilities as well as assisting developers with the GeoWave code surroundings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GeoWave Capabilities</p>
<div class="ulist">
<ul>
<li>
<p>Add multi-dimensional indexing capability to Apache Accumulo and Apache HBase</p>
</li>
<li>
<p>Add support for geographic objects and geospatial operators to Apache Accumulo and Apache HBase</p>
</li>
<li>
<p>Provide a <a href="http://geoserver.org/" target="_blank">GeoServer</a> plugin to allow geospatial data in Accumulo and HBase to be shared and visualized via OGC standard services</p>
</li>
<li>
<p>Provide Map-Reduce input and output formats for distributed processing and analysis of geospatial data</p>
</li>
</ul>
</div>
</li>
<li>
<p>Geospatial software plugins include the following:</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://geoserver.org/">GeoServer</a> plugin to allow geospatial data in Accumulo to be shared and visualized via OGC standard services</p>
</li>
<li>
<p><a href="http://www.pdal.io/">PDAL</a> plugin for working with point cloud data</p>
</li>
<li>
<p><a href="http://mapnik.org/">Mapnik</a> plugin for generating map tiles and generally making good looking maps.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Basically, GeoWave is working to bridge geospatial software with distributed compute systems and attempting to do for distributed key/value stores what PostGIS does for PostgreSQL.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="origin"><a class="anchor" href="#origin"></a>Origin</h3>
<div class="paragraph">
<p>GeoWave was developed at the National Geospatial-Intelligence Agency (NGA) in collaboration with <a href="http://www.radiantblue.com/" target="_blank">RadiantBlue Technologies</a> and <a href="http://www.boozallen.com/" target="_blank">Booz Allen Hamilton</a>. The government has <a href="https://github.com/locationtech/geowave/blob/master/NOTICE" target="_blank">unlimited rights</a> and is releasing this software to increase the impact of government investments by providing developers with the opportunity to take things in new directions. The software use, modification, and distribution rights are stipulated within the <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache 2.0</a> license.</p>
</div>
</div>
<div class="sect2">
<h3 id="intent"><a class="anchor" href="#intent"></a>Intent</h3>
<div class="sect3">
<h4 id="pluggable-backend"><a class="anchor" href="#pluggable-backend"></a>Pluggable Backend</h4>
<div class="paragraph">
<p>GeoWave is intended to be a multidimensional indexing layer that can be added on top of any sorted key-value store. Accumulo was chosen as the initial target architecture, and support for HBase has been added as well. Any datastore which allows prefix based range scans should be straightforward extensions.</p>
</div>
</div>
<div class="sect3">
<h4 id="modular-framework-design"><a class="anchor" href="#modular-framework-design"></a>Modular Framework Design</h4>
<div class="paragraph">
<p>The GeoWave architecture is designed to be extremely extensible with most of the functionality units defined by interfaces and with default implementations of these interfaces to cover most use cases. GeoWave allows for easy feature extension and platform integration – bridging the gap between distributed technologies and minimizing the learning curve for developers. The intent is that the out-of-the-box functionality should satisfy 90% of use cases, but the modular architecture allows for easy feature extension as well as integration into other platforms.</p>
</div>
</div>
<div class="sect3">
<h4 id="self-describing-data"><a class="anchor" href="#self-describing-data"></a>Self-Describing Data</h4>
<div class="paragraph">
<p>GeoWave stores the information needed to manipulate data, such as configuration and format, in the database itself. This allows software to programmatically interrogate all the data stored in a single or set of GeoWave instances without needing bits of configuration from clients, application servers, or other external stores.</p>
</div>
</div>
<div class="sect3">
<h4 id="scalable"><a class="anchor" href="#scalable"></a>Scalable</h4>
<div class="paragraph">
<p>GeoWave is designed to operate either in a single-node setup or it can scale out as large as needed to support the amount of data and/or processing resources necessary. By utilizing distributed computing clusters and server-side fine grain filtering, GeoWave is fully capable of performing interactive time and/or location specific queries on datasets containing billions of features with 100 percent accuracy.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For GeoWave users, the primary method of interfacing with GeoWave is through the various Command-Line Interface (CLI) commands and options. Users will use GeoWave to store, index, or search multi-dimensional data in a key-value datastore.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/operational_overview.png" alt="Operational Overview" width="75%">
</div>
<div class="title">Figure 1. High-Level Operational Overview</div>
</div>
<div class="paragraph">
<p>This <em>typically</em> involves these four steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Configure</strong></p>
<div class="paragraph">
<p>Set up/configure a datastore or index on GeoWave for re-use across various operations as needed.</p>
</div>
</li>
<li>
<p><strong>Ingest</strong>/<strong>Index</strong></p>
<div class="paragraph">
<p>Ingest, or Index, data into a specific store (e.g., Accumulo, HBase)</p>
</div>
</li>
<li>
<p><strong>Process</strong></p>
<div class="paragraph">
<p>Process data using a distributed processing engine (e.g. MapReduce, Spark)</p>
</div>
</li>
<li>
<p><strong>Query</strong>/<strong>Discover</strong></p>
<div class="paragraph">
<p>Search/Query or Discover data ingested, indexed, or processed/transformed through GeoWave operations. A common data discovery tool used is <a href="http://geoserver.org/" target="_blank">GeoServer</a>, which interfaces with GeoWave through the plugin, for interfacing with the selected datastore, e.g., Accumulo or HBase.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>GeoWave uses tiered, gridded, Space Filling Curves (SFCs) to index data into your desired key-value store. The indexing information is stored in a generic key structure that can also be used for server-side processing. This architecture allows query, processing, and rendering times to be reduced by multiple orders of magnitude.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/tiered.png" alt="Tiered" width="50%">
</div>
<div class="title">Figure 2. Tiered, Space Filling Curves</div>
</div>
<div class="paragraph">
<p>If there are questions or issues encountered, or topics of interest that could be expounded on, please create an issue within the <a href="https://github.com/locationtech/geowave/issues">GeoWave project GitHub page</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="assumptions-2"><a class="anchor" href="#assumptions-2"></a>Assumptions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Prior to setting up a development environment surrounding the GeoWave project, this guide assumes that the following components are installed. Because of the continuous changes occurring to these components, installing, and maintaining, extensive operational capabilities around these components is outside the scope of this document.</p>
</div>
<div class="sect2">
<h3 id="development-building"><a class="anchor" href="#development-building"></a>Development &amp; Building</h3>
<div class="paragraph">
<p>In order to build and/or perform development using the GeoWave source, the following components are required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java Development Kit (JDK)</a> (&gt;= 1.8)</p>
<div class="paragraph">
<p>Requires JDK v1.8 or greater</p>
</div>
<div class="paragraph">
<p>Download from the <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">Java downloads site</a>. The OracleJDK is the most thoroughly tested but there are no known issues with OpenJDK.</p>
</div>
</li>
<li>
<p><a href="http://git-scm.com/" target="_blank">Git</a></p>
<div class="paragraph">
<p>Reference online material at <a href="https://git-scm.com/" target="_blank">Git SCM Site</a>.</p>
</div>
<div class="paragraph">
<p>For a complete reference guide for installing and using Git, please reference chapters in the online <a href="https://git-scm.com/book/en/v2" target="_blank">Pro Git book</a>.</p>
</div>
</li>
<li>
<p><a href="https://maven.apache.org/" target="_blank">Maven</a></p>
<div class="paragraph">
<p>Requires a version of Maven &gt;= 3.2.1</p>
</div>
<div class="paragraph">
<p>For a reference guide for getting started with Maven, please reference the online <a href="https://maven.apache.org/guides/getting-started/" target="_blank">Maven Getting Started Guide</a>.</p>
</div>
<div class="olist arabic">
<div class="title">GeoWave has a dependency on the following libraries - handled through Maven:</div>
<ol class="arabic">
<li>
<p>Uzazygezen - link:https://code.google.com/p/uzaygezen/</p>
</li>
<li>
<p>GeoTools - link:http://www.geotools.org/</p>
</li>
<li>
<p>Log4J - link:http://logging.apache.org/log4j/1.2/</p>
</li>
</ol>
</div>
</li>
<li>
<p><a href="http://www.oracle.com/technetwork/articles/javaee/jai-142803.html" target="_blank">Java Advanced Imaging</a> and <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/imageio/" target="_blank">Java Image I/O</a></p>
<div class="paragraph">
<p>Both are required to be installed on the GeoServer instance(s) as well as on the Accumulo nodes. The Accumulo support is only required for certain functions (distributed rendering), so this may be skipped in some cases.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="external-components"><a class="anchor" href="#external-components"></a>External Components</h3>
<div class="paragraph">
<p>Depending on the environment components that are being developed towards and/or tested against, e.g., requirements, datastores, indices, etc., some external components will be beneficial. While this information is outside the scope of this document, you can find these requirements in the <a href="userguide.html#assumptions" target="_blank">GeoWave User Guide</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="development-setup"><a class="anchor" href="#development-setup"></a>Development Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-2"><a class="anchor" href="#overview-2"></a>Overview</h3>
<div class="paragraph">
<p>Setting up an environment consists of a few steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#retrieving_geowave_code">Retrieving the GeoWave Code</a></p>
</li>
<li>
<p><a href="#building">Install GeoWave</a></p>
</li>
<li>
<p><a href="#packaging-tools">Package GeoWave Tools Framework</a></p>
</li>
<li>
<p><a href="#create-third-party-plugins">Create Third-Party Plugins From Source</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#geoserver-plugin">GeoServer Plugin</a></p>
</li>
<li>
<p><a href="#accumulo-plugin">Accumulo Plugin</a></p>
</li>
<li>
<p><a href="#hbase-plugin">HBase Plugin</a></p>
</li>
</ol>
</div>
</li>
<li>
<p><a href="#contributions">How to Contribute</a></p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="retrieving_geowave_code"><a class="anchor" href="#retrieving_geowave_code"></a>Retrieving the Code</h3>
<div class="paragraph">
<p>Users have two options for retrieving the geowave code: either by directly <a href="#downloading-repo">downloading the code repository in zip archive</a> or <a href="#cloning-repo">cloning the repository</a>, both are accessed directory through GitHub.</p>
</div>
<div class="sect3">
<h4 id="downloading-repo"><a class="anchor" href="#downloading-repo"></a>Downloading the Code as Zip Archive</h4>
<div class="paragraph">
<p>This option is for users who do not intend to contribute to the GeoWave project source, and simply want to collaborate as a read-only user, and still build the code and run in an environment. This is by far the simplest and most direct way to access the code.</p>
</div>
<div class="paragraph">
<p>To download a read-only version of the code repository:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a web browser and navigate to the <a href="https://github.com/locationtech/geowave">GeoWave GitHub repository</a> where the different projects and latest changes can be viewed.</p>
</li>
<li>
<p>If interested in a particular branch, select the branch of choice. Otherwise, leave on the default master branch for the latest tested changes.</p>
</li>
<li>
<p>Locate the green “Clone or download” button near the top right of the file navigation section.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Clone_Download_Repo.png" alt="Clone_Download_Repo.png" width="100%">
</div>
<div class="title">Figure 3. Clone &amp; Download GeoWave Repository</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Expand the “Clone or download” pane by clicking on the green button labeled "Clone or download".</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Clone_Download_Expand.png" alt="Clone_Download_Expand.png" width="50%">
</div>
<div class="title">Figure 4. Clone &amp; Download GeoWave Source Expanded</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Download the code by clicking on the “Download ZIP” button. Depending on browser settings, the code will either download automatically to the user account’s downloads directory or a prompt will ask for the download destination. If the zip file is automatically downloaded to the downloads directory, manually move the zip file to the intended destination directory.</p>
</li>
<li>
<p>Navigate on the system to the path where the zip file is located. Once you unzip the downloaded GeoWave repository source, it is ready for use and building locally.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="cloning-repo"><a class="anchor" href="#cloning-repo"></a>Cloning the GeoWave Git Repository</h4>
<div class="paragraph">
<p>For users who intend to either wish to propose contributions to the GeoWave project source, or simply want a clean way to keep the code up-to-date with the latest committed changes from the GeoWave team, the GeoWave code source can be cloned through the Git command line interface. Cloning the repository enables a simplistic interface to where a user can easily compare their current codebase against the latest code in the master (or a selected branch) repository.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the system directory where the GeoWave project code is to be located. The code will be downloaded to a parent folder named “geowave”. Ensure that there is not already an existing folder titled “geowave”.</p>
</li>
<li>
<p>Clone the git repository by opening a terminal and running the command:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ git clone https://github.com/locationtech/geowave.git</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you do not need the complete history, and want to speed up the clone, you can limit the depth of the checkout process by appending “-depth NUM_COMMITS” to the clone command above.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Terminal activity should appear, similar to below, as the repository is cloned. Note that this can typically take a few minutes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Cloning into 'geowave'...
remote: Counting objects: 1311924, done.
remote: Compressing objects: 100% (196/196), done.
remote: Total 1311924 (delta 68), reused 0 (delta 0), pack-reused 1311657
Receiving objects: 100% (1311924/1311924), 784.52 MiB | 6.18 MiB/s, done.
Resolving deltas: 100% (1159959/1159959), done.</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Confirm that the repository clone was successful by ensuring that the GeoWave directory was created. Running the command “ls –l | grep geowave” should yield a result similar to below.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ ls -l | grep geowave
drwxr-xr-x  22 {user}  {domain group}      748 Mar 16 10:41 geowave</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Confirm that the GeoWave contents were properly downloaded and cloned by examining the contents of the 'geowave' directory. Note that the folder entries should look closely identical to the listings on the GitHub site</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ ls -lah geowave
total 144
drwxr-xr-x  22 {user}  {domain group}   748B Mar 16 10:41 .
drwx------+  9 {user}  {domain group}   306B Mar 16 10:33 ..
drwxr-xr-x  12 {user}  {domain group}   408B Mar 16 10:44 .git
-rw-r--r--   1 {user}  {domain group}   710B Mar 16 10:35 .gitattributes
-rw-r--r--   1 {user}  {domain group}   147B Mar 16 10:35 .gitignore
drwxr-xr-x   6 {user}  {domain group}   204B Mar 16 10:36 .metadata
-rw-r--r--   1 {user}  {domain group}   3.1K Mar 16 10:35 .travis.yml
drwxr-xr-x   7 {user}  {domain group}   238B Mar 16 10:35 .utility
-rw-r--r--   1 {user}  {domain group}    11K Mar 16 10:35 LICENSE
-rw-r--r--   1 {user}  {domain group}   724B Mar 16 10:35 NOTICE
-rw-r--r--   1 {user}  {domain group}   8.0K Mar 16 10:35 README.md
drwxr-xr-x   6 {user}  {domain group}   204B Mar 16 10:35 analytics
drwxr-xr-x   9 {user}  {domain group}   306B Mar 16 10:35 core
drwxr-xr-x  10 {user}  {domain group}   340B Mar 16 10:37 deploy
drwxr-xr-x   7 {user}  {domain group}   238B Mar 16 10:42 dev-resources
drwxr-xr-x   6 {user}  {domain group}   204B Mar 16 10:37 docs
drwxr-xr-x   9 {user}  {domain group}   306B Mar 16 10:37 examples
drwxr-xr-x   7 {user}  {domain group}   238B Mar 16 10:35 extensions
-rw-r--r--   1 {user}  {domain group}    31K Mar 16 10:35 pom.xml
drwxr-xr-x   6 {user}  {domain group}   204B Mar 16 10:35 services
drwxr-xr-x  10 {user}  {domain group}   340B Mar 16 10:38 test</code></pre>
</div>
</div>
<div class="paragraph">
<p>The GeoWave source is now ready for use and building locally</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="building-code"><a class="anchor" href="#building-code"></a>Building the Source</h3>
<div class="sect3">
<h4 id="tools-framework-overview"><a class="anchor" href="#tools-framework-overview"></a>Tools Framework Overview</h4>
<div class="paragraph">
<p>A plugin framework (using Service Provider Interface (SPI)-based injection) is provided with several input formats and utilities supported out of the box.
First, we’ll show how to build and use the built-in formats and then describe how to create a new plugin.</p>
</div>
</div>
<div class="sect3">
<h4 id="building-tools-framework"><a class="anchor" href="#building-tools-framework"></a>Building</h4>
<div class="paragraph">
<p>GeoWave will shortly be available in Maven central (for tagged releases) but until then, or to get the latest features, building GeoWave from source is the best bet.</p>
</div>
<div class="sect4">
<h5 id="building"><a class="anchor" href="#building"></a>Building GeoWave</h5>
<div class="paragraph">
<p>To build the project source, navigate to the directory into which the GeoWave code was downloaded. Using Maven from the command line, run the following command in a local terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn clean install <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can speed up the build by skipping tests by adding -Dfindbugs.skip=true -Dformatter.skip=true -DskipITs=true -DskipTests=true</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Integration Tests: Windows</p>
</div>
<div class="paragraph">
<p>Integration tests are currently not working on Windows out of the box. If you install cygwin and set the environmental variable CYGPATH to the location of the cygpath binary provided by cygwin to make it work.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Upon executing the command above, you should see a terminal output beginning with similar code below. Maven will build all the projects in the repository, so this will take a few minutes to complete.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] GeoWave Parent POM
[INFO] GeoWave Core Parent POM
[INFO] GeoWave CLI
[INFO] GeoWave Index
[INFO] GeoWave Store
[INFO] GeoWave MapReduce
[INFO] GeoWave Ingest Framework
[INFO] GeoWave Spatial and Temporal Support
[INFO] GeoWave Extensions
[INFO] Geowave Vector Adapter
[INFO] Geowave Raster Adapter
[INFO] GeoWave Analytics Parent POM
[INFO] GeoWave Analytics API
[INFO] GeoWave MapReduce Analytics
[INFO] GeoWave Spark Analytics
[INFO] GeoWave Deployment Configurations
[INFO] GeoWave Documentation
[INFO] GeoWave Accumulo
[INFO] GeoWave Hbase
[INFO] GeoWave Examples
[INFO] GeoWave BigTable
[INFO] GeoWave GeoLife Format Support
[INFO] GeoWave Raster Format
[INFO] GeoWave Vector Format
[INFO] GeoWave GPX Format
[INFO] GeoWave T-Drive Format
[INFO] GeoWave GDELT Format Support
[INFO] GeoWave Avro Format
[INFO] GeoWave Twitter Format Support
[INFO] geowave-format-4676
[INFO] GeoWave Services Parent POM
[INFO] GeoWave Services API
[INFO] geowave-service-4676
[INFO] GeoWave Debug Commandline Tools
[INFO] Geowave GeoServer Commandline Tools
[INFO] Geowave OSM Commandline Tools
[INFO] GeoWave LandSat8 Operations
[INFO] GeoWave Java Client for REST services
[INFO] GeoWave REST Services WebApp
[INFO] GeoWave Integration Tests
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building GeoWave Parent POM 1.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------</pre>
</div>
</div>
<div class="paragraph">
<p>Once this is completed, the compiled artifacts (jar, war, etc.) are “installed” into your local repository for each respective project. The compiled artifacts are also available in each project target directory.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maven-dependencies"><a class="anchor" href="#maven-dependencies"></a>Maven dependencies</h4>
<div class="paragraph">
<p>Required repositories not in Maven Central have been added to the parent POM, specifically the cloudera and opengeo repositories.</p>
</div>
</div>
<div class="sect3">
<h4 id="docker-build-process"><a class="anchor" href="#docker-build-process"></a>Docker Build Process</h4>
<div class="paragraph">
<p>We have support for building both the GeoWave jar artifacts and RPMs from Docker containers. This capability is useful for a number of different situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jenkins build workers can run Docker on a variety of host-operating systems and build for others</p>
</li>
<li>
<p>Anyone running Docker will be able to duplicate our build and packaging environments</p>
</li>
<li>
<p>Will allow us to build on existing container clusters instead of single purpose build VMs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If building artifacts using Docker containers interests you, check out the README in <a href="https://github.com/locationtech/geowave/tree/master/deploy/packaging/docker" target="_blank"><code>deploy/packaging/docker</code></a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-eclipse-projects"><a class="anchor" href="#creating-eclipse-projects"></a>Creating Eclipse Projects</h3>
<div class="paragraph">
<p>In order to facilitate a more complete development environment, we now need to get the GeoWave source code into an Integrated Development Environment (IDE). This section will walk you through how to import Maven projects into the Eclipse IDE.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>There are several IDEs available, though this guide will assume use of Eclipse. If you are developing in a different IDE than Eclipse, there are likely guides on the internet to guide you through converting a Maven project into your IDE.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Using the <a href="http://www.eclipse.org/m2e/" target="_blank">Eclipse Maven M2Eclipse plugin</a>, we can import maven projects into eclipse, and eclipse will automatically resolve/download dependencies listed in the pom.xml file for each project.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If any project pom.xml dependencies are changed/updated, Eclipse will automatically update the project and any downstream changes to related/depependent projects.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the Maven GeoWave projects into the Eclipse workspace.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Within Eclipse, select File &#8594; Import.</p>
<div class="imageblock">
<div class="content">
<img src="./images/Eclipse-File-Import.png" alt="Eclipse-File-Import.png" width="width=" height="35%"">
</div>
<div class="title">Figure 5. Eclipse File Import Menu</div>
</div>
</li>
<li>
<p>From the "Import" window, select the option under "Maven" for "Existing Maven Projects" and select the "Next" button.</p>
<div class="imageblock">
<div class="content">
<img src="./images/import-maven-eclipse-projects.png" alt="import-maven-eclipse-projects.png" width="30%">
</div>
<div class="title">Figure 6. Existing Maven Projects Wizard</div>
</div>
</li>
<li>
<p>From the "Import Maven Projects" window, select the “Browse” button and navigate to the root directory where the GeoWave source is located on the file system. Once found, select the <em>geowave</em> directory and select the "Open" button.</p>
</li>
<li>
<p>Within the "Import Maven Projects" window, the “Projects” pane should now be populated with all of the GeoWave projects. Select the "Finish" button to exit.</p>
</li>
<li>
<p>Upon returning to the workspace in Eclipse, the <em>Project Explorer</em> pane should now be populated with all of the GeoWave projects.</p>
<div class="imageblock">
<div class="content">
<img src="./images/EclipseWorkspace.png" alt="EclipseWorkspace.png" width="25%">
</div>
<div class="title">Figure 7. Eclipse Workspace</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="packaging-the-source"><a class="anchor" href="#packaging-the-source"></a>Packaging the Source</h3>
<div class="paragraph">
<p>This section is intended to outline how to package the various GeoWave builds into deployable jar files.</p>
</div>
<div class="sect3">
<h4 id="packaging-tools"><a class="anchor" href="#packaging-tools"></a>Packaging CLI Tools Framework</h4>
<div class="paragraph">
<p>When the GeoWave code is ready for packaging and deployment, the code can be easily packaged up using Maven by running the command below from the GeoWave home directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ mvn package -P geowave-tools-singlejar <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can speed up the build by skipping tests by adding -Dfindbugs.skip=true -Dformatter.skip=true -DskipITs=true -DskipTests=true</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This process will take a minute or two to build.</p>
</div>
<div class="paragraph">
<p>Once the packaging process has completed, the <em>geowave-tools</em> jar is now packaged in the deploy/target directory.</p>
</div>
<div class="paragraph">
<p>When packaged for installation, there will be a wrapper alias command named 'geowave' that will be installed in $PATH.</p>
</div>
<div class="paragraph">
<p>In a development environment where this script has not been installed, a directory containing the tools jar can be created with any needed plugin jars and used with something like the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">java -cp "$DIR/* &lt;operation&gt; &lt;options&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, if operating in an *nix-based environment, adding the command as an alias to the user profile can be performed by following these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the user account profile script for editing.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ vi ~/.profile         [Press Enter]</code></pre>
</div>
</div>
</li>
<li>
<p>Add an alias to the profile for geowave. The alias will be structured similar to that below.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>alias geowave="java -cp $GEOWAVE_HOME/deploy/target/geowave-deploy-1.0.0-SNAPSHOT-tools.jar org.locationtech.geowave.core.cli.GeoWaveMain"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Replace $GEOWAVE_HOME with the value of the GeoWave home directory or create an environment variable for that name and value.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Save and close editor.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>:q!                     [Press Enter]</code></pre>
</div>
</div>
</li>
<li>
<p>Update profile in current environment.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ source ~/.profile     [Press Enter]</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this point, you can now run GeoWave Command Line Instructions. For a full list of these commands, please see the <a href="commands.html" target="_blank">GeoWave CLI Appendix</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="contributions"><a class="anchor" href="#contributions"></a>How to Contribute</h3>
<div class="paragraph">
<p>GeoWave is an open source project and we welcome contributions from the community.</p>
</div>
<div class="sect3">
<h4 id="pull-requests"><a class="anchor" href="#pull-requests"></a>Pull Requests</h4>
<div class="paragraph">
<p>Pull requests from non locationtech member must be done though a forked repository.</p>
</div>
<div class="paragraph">
<p>To create a new fork, just click the the "Fork" button at the top of the GeoWave GitHub page. You can now submit pull requests from your working branch on your fork directly to the master branch on locationtech.</p>
</div>
<div class="paragraph">
<p>GeoWave uses a Maven plugin formatter to keep all of our code standardized. You should run a Maven install immediately prior to committing and pushing changes.</p>
</div>
<div class="paragraph">
<p>Prior to submitting a pull request, please squash down your commits into one. This will help keep our commit history clean and will cut down on "in progress commits" that don&#8217;t relay any helpful information in the future.</p>
</div>
<div class="paragraph">
<p>All pull request contributions to this project will be released under the Apache 2.0 license.</p>
</div>
<div class="paragraph">
<p>Software source code previously released under an open source license and then modified by NGA staff is considered a "joint work" (see <em>17 USC 101</em>); it is partially copyrighted, partially public domain, and as a whole is protected by the copyrights of the non-government authors and must be released according to the terms of the original open source license.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-3"><a class="anchor" href="#overview-3"></a>Overview</h3>
<div class="imageblock">
<div class="content">
<img src="./images/overview1.png" alt="Architecture Overview" width="75%">
</div>
<div class="title">Figure 8. GeoWave Architecture Overview</div>
</div>
<div class="paragraph">
<p>The core of the GeoWave architecture concept is getting data in (<em>Ingest</em>), and pulling data out (<em>Query</em>). There are also two types of data persisted in the system: feature data and metadata. Feature data is the actual set of attributes and geometries that are stored for later retrieval. Metadata describes how the data is persisted in the database. The intent is to store the information needed for data discovery and retrieval in the database. This means that an existing data store isn’t tied to a bit of configuration on a particular external server or client but instead is “self-describing.”</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="persistence"><a class="anchor" href="#persistence"></a>Persistence</h3>
<div class="paragraph">
<p>Three things are required to load data into a working accumulo cluster: an index, feature type, and supported source format.</p>
</div>
<div class="sect3">
<h4 id="source-formats"><a class="anchor" href="#source-formats"></a>Source Formats</h4>
<div class="paragraph">
<p>Leveraging the GeoTools infrastructure, GeoWave supports ingesting any DataSource that GeoTools supports.  Currently supported data types include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>arcgrid</p>
</li>
<li>
<p>arcsde</p>
</li>
<li>
<p>db2</p>
</li>
<li>
<p>raster formats</p>
<div class="ulist">
<ul>
<li>
<p>geotiff</p>
</li>
<li>
<p>grassraster</p>
</li>
<li>
<p>gtopo30</p>
</li>
<li>
<p>imageio-ext-gdal</p>
</li>
<li>
<p>imagemoasaic</p>
</li>
<li>
<p>imagepyramid</p>
</li>
<li>
<p>JP2K</p>
</li>
</ul>
</div>
</li>
<li>
<p>Database “jdgc-ng” support</p>
<div class="ulist">
<ul>
<li>
<p>h2</p>
</li>
<li>
<p>mysql</p>
</li>
<li>
<p>oracle</p>
</li>
<li>
<p>postgis</p>
</li>
<li>
<p>spatialite</p>
</li>
<li>
<p>sqlserver</p>
</li>
</ul>
</div>
</li>
<li>
<p>postgis</p>
</li>
<li>
<p>property file</p>
</li>
<li>
<p>shapefile</p>
</li>
<li>
<p>dfs</p>
</li>
<li>
<p>edigeo</p>
</li>
<li>
<p>geojson</p>
</li>
<li>
<p>wfs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a current list of supported formats, refer to the <a href="http://docs.geotools.org/stable/userguide/faq.html" target="_blank">GeoTools User Guide</a>. Reference the version of GeoTools that GeoWave was built against (currently 18.1).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="architecture-indexes"><a class="anchor" href="#architecture-indexes"></a>Indexes</h3>
<div class="paragraph">
<p>The core engine to quickly retrieve data from GeoWave is a SFC-based index. This index can be configured with several different parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>number of levels</p>
</li>
<li>
<p>number of dimensions</p>
</li>
<li>
<p>cardinality of each dimension</p>
</li>
<li>
<p>dimension type (bounded/unbounded)</p>
</li>
<li>
<p>value range of each dimension</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>More on each of these properties will be described later, but the intent of this list is to provide a notion of what type of configuration information is persisted.</p>
</div>
<div class="paragraph">
<p>In order to insert data in a datastore, the configuration of the index has to be known. The index is persisted in a special table and is referenced back via table name to a table with data in it. Therefore, queries can retrieve data without requiring index configuration. There is a restriction that only one index configuration per table is supported, i.e., you can&#8217;t store data on both a 2-dimensional and 3-dimensional index in the same table. (You could store 2-dimensional geometry types in a 3-dimensional index though).</p>
</div>
</div>
<div class="sect2">
<h3 id="architecture-adapters"><a class="anchor" href="#architecture-adapters"></a>Adapters</h3>
<div class="paragraph">
<p>In order to store geometry, attributes, and other information, a format is required that describes how to serialize and deserialize the data. GeoWave provides an interface that handles the serialization and deserialization of feature data. A default implementation supporting the GeoTools simple feature type is included by default. More on this specific implementation, as well as the interface, will be detailed later in this document. A pointer to the Java class, expected to be on the classpath, is stored in the Adapter persistence table. This is loaded dynamically when the data is queried and the results are translated to the native data type.</p>
</div>
<div class="sect3">
<h4 id="feature-serialization"><a class="anchor" href="#feature-serialization"></a>Feature Serialization</h4>
<div class="imageblock">
<div class="content">
<img src="./images/serialization1.png" alt="Feature Serialization" width="75%">
</div>
<div class="title">Figure 9. Feature Serialization</div>
</div>
<div class="paragraph">
<p>GeoWave allows developers to create their own data adapters. Adapters not only determine how the data is actually stored (serialization/deserialization), but also contain a hierarchy of attribute types. The reason for this hierarchy has to do with extensibility vs. optimization. A data adapter could theoretically take a dependency on ffmpeg, store the feature as metadata in a video stream, and persist that value to the database. All questions of sanity of this solution aside, there are some additional specific issues with the way fine grain filtering is done, specifically due to the iterators.</p>
</div>
<div class="paragraph">
<p>Based on this, our goal was to minimize the code and standardize on as few iterators as possible. This conflicted with the desire to allow maximum flexibility with arbitrary DataAdapters. A middle ground was found and this hierarchy was created. Some standardization was put in place around how certain data types would be stored and serialized, but a "native data" portion was still left in place for arbitrary data. The caveat is that native data cannot be used in distributed (iterator based) filtering - only in client side filtering.</p>
</div>
</div>
<div class="sect3">
<h4 id="primary-index-data"><a class="anchor" href="#primary-index-data"></a>Primary Index Data</h4>
<div class="paragraph">
<p>These are sets of data that are also used to construct the primary index SFC. They will typically be geometry coordinates and optionally time, but could be any set of numeric values (think decomposed feature vectors, etc.). They cannot be null.</p>
</div>
</div>
<div class="sect3">
<h4 id="common-index-data"><a class="anchor" href="#common-index-data"></a>Common Index Data</h4>
<div class="paragraph">
<p>These are a collection of attributes. There can be any number of attributes but they must conform to the <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/dimension/NumericDimensionField.java" target="_blank">NumericDimensionField</a> interface. The attribute type must have a <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/data/field/FieldReader.java" target="_blank">FieldReader</a> and a <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/data/field/FieldWriter.java" target="_blank">FieldWriter</a> that is within the classpath of the tablet servers. GeoWave provides a basic implementation for these attribute types:</p>
</div>
<table class="tableblock frame-topbot grid-all spread">
<colgroup>
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
<col style="width: 14%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigDecimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calendar</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The values that are not part of the primary index can be used for distributed secondary filtering and can be null. The values that are associated with the primary index will be used for fine-grained filtering within an iterator.</p>
</div>
</div>
<div class="sect3">
<h4 id="native-data"><a class="anchor" href="#native-data"></a>Native Data</h4>
<div class="paragraph">
<p>These can be literally anything. No distributed filtering can be performed on this data except for Accumulo&#8217;s visibility filter, but the client-side filtering extensibility point can still be used if necessary. The Data Adapter has to provide methods to serialize and deserialize these items in the form of Field Readers and Writers, but it is not necessary to have these methods on the classpath of any nodes.</p>
</div>
</div>
<div class="sect3">
<h4 id="field-writers-readers"><a class="anchor" href="#field-writers-readers"></a>Field Writers/Readers</h4>
<div class="paragraph">
<p>These are type specific implementations used by org.locationtech.geowave.core.store.adapter.DataAdapter to tell GeoWave how to serialize or deserialize information of a certain type. The default implementations are included in the distributed filter iterators. This is what drives the type requirements listed above in the Common Index Data section.</p>
</div>
</div>
<div class="sect3">
<h4 id="writing-data"><a class="anchor" href="#writing-data"></a>Writing Data</h4>
<div class="paragraph">
<p>When writing data, writing implementation classes should implement the <a href="https://hadoop.apache.org/docs/r2.6.1/api/org/apache/hadoop/io/Writable.html" target="_blank">Writable</a> interface.</p>
</div>
<div class="paragraph">
<div class="title">Writing Vector Data</div>
<p>When writing vector data, GeoWave provides the default vector writable implementation, the <a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/FeatureWritable.java" target="_blank">org.locationtech.geowave.adapter.vector.FeatureWritable</a> class.</p>
</div>
<div class="paragraph">
<p>This class is used by <a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/FeatureDataAdapter.java" target="_blank">org.locationtech.geowave.adapter.vector.FeatureDataAdapter</a> to persist <a href="http://docs.geotools.org/stable/javadocs/org/opengis/feature/simple/SimpleFeature.html" target="_blank">org.opengis.feature.simple.SimpleFeature</a> and its <a href="http://docs.geotools.org/stable/javadocs/org/opengis/feature/simple/SimpleFeatureType.html" target="_blank">org.opengis.feature.simple.SimpleFeatureType</a>. The attribute types of the feature must be understood before the feature can be deserialized so therefore each <a href="http://docs.geotools.org/stable/javadocs/org/opengis/feature/simple/SimpleFeature.html" target="_blank">org.opengis.feature.simple.SimpleFeature</a> serializes its type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This class caches feature type information. If the feature type changes, then the cache should be emptied using the clearCache() method.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Writing Raster Data</div>
<p>When writing raster data, GeoWave provides the default raster writable implementation, the <a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/raster/src/main/java/org/locationtech/geowave/adapter/raster/adapter/GridCoverageWritable.java" target="_blank">org.locationtech.geowave.adapter.raster.adapter.GridCoverageWritable</a> class.</p>
</div>
<div class="paragraph">
<p>This class is used by GridCoverageDataAdapter, e.g., <a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/raster/src/main/java/org/locationtech/geowave/adapter/raster/adapter/RasterDataAdapter.java" target="_blank">org.locationtech.geowave.adapter.raster.adapter.RasterDataAdapter</a>, to persist <a href="http://docs.geotools.org/stable/javadocs/org/opengis/coverage/grid/GridCoverage.html" target="_blank">org.opengis.coverage.grid.GridCoverage</a>. The adapter has information regarding the sample model and color model so all that is necessary to persist is the buffer and the envelope.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="architecture-accumulo"><a class="anchor" href="#architecture-accumulo"></a>Key Structure</h3>
<div class="imageblock">
<div class="content">
<img src="./images/accumulo.png" alt="Accumulo Data Schema" width="100%">
</div>
<div class="title">Figure 10. Accumulo Data Schema</div>
</div>
<div class="paragraph">
<p>The above diagram describes the default structure of entries in the data store. The <em>Index ID</em> comes directly from the tiered SFC implementation. We do not impose a requirement that <em>Data IDs</em> are globally unique but they should be unique for the adapter. Therefore, the pairing of <em>Adapter ID</em> and <em>Data ID</em> define a unique identifier for a data element. The lengths are stored within the <em>Row ID</em> as 4 byte integers. This enables fully reading the <em>Row ID</em> because these IDs can be of variable length. The number of duplicates is stored within the <em>Row ID</em> as well to inform the de-duplication filter whether this element needs to be temporarily stored in order to ensure no duplicates are sent to the caller. The <em>Adapter ID</em> is within the <em>Row ID</em> to enforce unique <em>Row IDs</em> as a whole row iterator is used to aggregate fields for the distributable filters. The <em>Adapter ID</em> is also used as the column family as the mechanism for adapter-specific queries to fetch only the appropriate column families.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="statistics-2"><a class="anchor" href="#statistics-2"></a>Statistics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Adapters provide a set of statistics stored within a statistic store. The set of available statistics is specific to each adapter as well as the set of attributes for those data items managed by the adapter. Statistics include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ranges over an attribute, including time</p>
</li>
<li>
<p>Enveloping bounding box over all geometries</p>
</li>
<li>
<p>Cardinality of the number of stored items</p>
</li>
<li>
<p>Histograms over the range of values for an attribute</p>
</li>
<li>
<p>Cardinality of discrete values of an attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Statistics are updated during data ingest and deletion. Range and bounding box statistics reflect the largest range over time. Those statistics are not updated during deletion. Statistics based on cardinality are updated upon deletion.</p>
</div>
<div class="paragraph">
<p>Re-computation of statistics is required in three circumstances:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As indexed items are removed from the adapter store, the range and envelope statistics may lose their accuracy if the removed item contains an attribute that represents the minimum or maximum value for the population.</p>
</li>
<li>
<p>New statistics added to the statistics store after data items are ingested.  These new statistics do not reflect the entire population.</p>
</li>
<li>
<p>Software changes invalidate prior stored images of statistics.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Statistics retain the same visibility constraints as the associated attributes. Thus, there is a set of statistics for each unique constraint. The statistics store answers each statistics inquiry for a given adapter with only those statistics matching the authorizations of the requester. The statistics store merges authorized statistics covering the same attribute.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/stats_merge.png" alt="Statistics Merge" width="75%">
</div>
<div class="title">Figure 11. Statistics Merge</div>
</div>
<div class="sect2">
<h3 id="table-structure"><a class="anchor" href="#table-structure"></a>Table Structure</h3>
<div class="imageblock">
<div class="content">
<img src="./images/stats.png" alt="Statistics Structure" width="75%">
</div>
<div class="title">Figure 12. Statistics Structure</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ingest"><a class="anchor" href="#ingest"></a>Ingest</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-4"><a class="anchor" href="#overview-4"></a>Overview</h3>
<div class="paragraph">
<p>In addition to the raw data to ingest, the ingest process requires an adapter to translate the native data into a format that can be persisted into the data store. Also, the ingest process requires an index which is a definition of all the configured parameters that define how data is translated to <em>Row IDs</em> (how it is indexed) and what common fields need to be maintained within the table to be used by fine-grained and secondary filters.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/ingestoverview1.png" alt="Ingest Architecture" width="75%">
</div>
<div class="title">Figure 13. Ingest Architecture</div>
</div>
<div class="paragraph">
<p>The logic within the ingest process immediately ensures that the index and data adapter are persisted within the Index Store and the Adapter Store to support self-described data discovery. In-memory implementations of both of these stores are provided for cases when connections to third-party datastores (e.g., Accumulo, HBase) are undesirable in the ingest process, such as ingesting bulk data in a Map-Reduce job. Then the flow determines the set of <em>Row IDs</em> that the data will need to be inserted into. Duplication is essential under certain circumstances and therefore data may be inserted in multiple locations, e.g., polygons that cross the dateline or date ranges that cross binning boundaries such as December 31-January 1 when binning by year. De-duplication is always performed as a client filter when querying the data. This will be combined with the actual data in a persistable format, after a translation has been performed by the adapter to create a set of mutations.</p>
</div>
<div class="paragraph">
<p>There is a Writer interface that the data store&#8217;s AccumuloOperations will instantiate that specifies how the mutations will actually be written. The default implementation will wrap an Accumulo BatchWriter with this interface, but in some cases it could make sense to provide a custom implementation of the writer. This process is the same when using an HBase datastore. When performing a bulk ingest within the mapper or reducer of a job, it would be appropriate to define a writer to add the mutations to the context of the bulk ingest rather than writing live to Accumulo or HBase.</p>
</div>
<div class="paragraph">
<p>The full list of GeoWave ingest commands can be found in the commands.html#ingest-commands[GeoWave CLI Appendix^].</p>
</div>
</div>
<div class="sect2">
<h3 id="ingest-plugins"><a class="anchor" href="#ingest-plugins"></a>Ingest Plugins</h3>
<div class="paragraph">
<p>The GeoWave command line utility comes with several plugins out of the box. You can list the available plugins that are registered with your commandline tool.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">geowave ingest listplugins</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can add more by simply copying a desired plugin into the /usr/local/geowave/tools/plugins directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>Available index types currently registered as plugins:

  spatial_temporal:
    This dimensionality type matches all indices that only require Geometry and Time.

  spatial:
    This dimensionality type matches all indices that only require Geometry.

Available ingest formats currently registered as plugins:

  twitter:
    Flattened compressed files from Twitter API

  geotools-vector:
    all file-based vector datastores supported within geotools

  geolife:
    files from Microsoft Research GeoLife trajectory data set

  gdelt:
    files from Google Ideas GDELT data set

  stanag4676:
    xml files representing track data that adheres to the schema defined by STANAG-4676

  geotools-raster:
    all file-based raster formats supported within geotools

  gpx:
    xml files adhering to the schema of gps exchange format

  tdrive:
    files from Microsoft Research T-Drive trajectory data set

  avro:
    This can read an Avro file encoded with the SimpleFeatureCollection schema.  This schema is also used by the export tool, so this format handles re-ingesting exported datasets.

Available datastores currently registered:

  accumulo:
    A GeoWave store backed by tables in Apache Accumulo

  bigtable:
    A GeoWave store backed by tables in Google's Cloud BigTable

  hbase:
    A GeoWave store backed by tables in Apache HBase</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unresolved directive in devguide.adoc - include::057-ingeststats.adoc[]</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="index-strategies-2"><a class="anchor" href="#index-strategies-2"></a>Index Strategies</h3>
<div class="paragraph">
<p>Indexing data within GeoWave can be done in many ways, depending on the nature of what data is being indexed and which properties are of interest to be indexed/queried.</p>
</div>
<div class="paragraph">
<p>All GeoWave indexes must implement the <a href="https://github.com/locationtech/geowave/tree/master/core/index/src/main/java/org/locationtech/geowave/core/index/IndexStrategy.java" target="_blank">IndexStrategy</a> interface. When data is indexed, the IndexStrategy implementation is applied during processing and indexes the data as a <a href="https://github.com/locationtech/geowave/tree/master/core/index/src/main/java/org/locationtech/geowave/core/index/Persistable.java" target="_blank">Persistable</a> object in order to support serialization and deserialization within GeoWave.</p>
</div>
<div class="paragraph">
<p>Currently, all index strategy implementations implement either the <a href="https://github.com/locationtech/geowave/tree/master/core/index/src/main/java/org/locationtech/geowave/core/index/FieldIndexStrategy.java" target="_blank">FieldIndexStrategy</a> interface or the <a href="https://github.com/locationtech/geowave/tree/master/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java" target="_blank">NumericIndexStrategy</a> interface.</p>
</div>
<div class="paragraph">
<div class="title">FieldIndexStrategy</div>
<p>The FieldIndexStrategy interface is a more generic strategy for defining data to be indexed, which can be mostly any type. Each implementation of this strategy is responsible for defining how to serialize and de-serialize the data as well as each of the other indexing strategy methods.</p>
</div>
<div class="paragraph">
<div class="title">NumericIndexStrategy</div>
<p>As the name implies, the NumericIndexStrategy was designed for indexing numeric data and defines methods which describe the numeric data a bit further.</p>
</div>
<div class="sect3">
<h4 id="indexstrategy-hierarchy"><a class="anchor" href="#indexstrategy-hierarchy"></a>IndexStrategy Hierarchy</h4>
<div class="paragraph">
<p>The diagram below outlines the hierarchy of the various index strategies currently available within GeoWave.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/IndexStrategyHierarchy.png" alt="IndexStrategy Hierarchy" width="75%">
</div>
<div class="title">Figure 14. IndexStrategy Hierarchy</div>
</div>
<div class="paragraph">
<p>If there is not a suitable index strategy implementation that exists for your data being indexed, one can be developed according to the specific needs of your data and mission. Feel free to reference the strategies described above or any of the examples available.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="ingest-new-formats"><a class="anchor" href="#ingest-new-formats"></a>New Formats</h3>
<div class="paragraph">
<p>When trying to ingest new data formats, new ingest plugins need to be written to interface with the different data types. Format plugins <em>hook</em> into the ingest framework and allow decoupling from the datastores, e.g., accumulo or hbase, and an index. Generally the intent is to limit a format plugin to what it takes to translate raw files into GeoWave rows. For vector data, geowave rows implies the GeoTools' SimpleFeature object and for raster it implies the GeoTools' GridCoverage object. Additionally, a data format can supply a translation from a file to any custom schema, which will be in turn used as an intermediate format to support distributed ingest.</p>
</div>
<div class="paragraph">
<p>Ingest plugins should extend the <a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/ingest/AbstractSimpleFeatureIngestPlugin.java" target="_blank">AbstractSimpleFeatureIngestPlugin</a>.</p>
</div>
<div class="paragraph">
<p>Any of our extensions/formats projects are good examples for extensible new formats that can be discovered at runtime, such as the <a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/avro/src/main/java/org/locationtech/geowave/format/avro/AvroIngestPlugin.java" target="_blank">AvroIngestPlugin</a>, or any of the other existing ingest plugins, such as those listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AbstractSimpleFeatureIngestPlugin</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/avro/src/main/java/org/locationtech/geowave/format/avro/AvroIngestPlugin.java" target="_blank">AvroIngestPlugin</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/gdelt/src/main/java/org/locationtech/geowave/format/gdelt/GDELTIngestPlugin.java" target="_blank">GDELTIngestPlugin</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/geolife/src/main/java/org/locationtech/geowave/format/geolife/GeoLifeIngestPlugin.java" target="_blank">GeoLifeIngestPlugin</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/gpx/src/main/java/org/locationtech/geowave/format/gpx/GpxIngestPlugin.java" target="_blank">GpxIngestPlugin</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/tdrive/src/main/java/org/locationtech/geowave/format/tdrive/TdriveIngestPlugin.java" target="_blank">TdriveIngestPlugin</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/formats/twitter/src/main/java/org/locationtech/geowave/format/twitter/TwitterIngestPlugin.java" target="_blank">TwitterIngestPlugin</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="analytics-overview"><a class="anchor" href="#analytics-overview"></a>Analytics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-5"><a class="anchor" href="#overview-5"></a>Overview</h3>
<div class="paragraph">
<p>Analytics embody algorithms tailored to geospatial data.  Most analytics leverage Hadoop MapReduce for bulk computation.
Results of analytic jobs consist of vector or raster data stored in GeoWave.  The analytics infrastructure provides tools to
build algorithms in Spark.  For example, a Kryo serializer/deserializer enables exchange of SimpleFeatures and the GeoWaveInputFormat
supplies data to the Hadoop RDD.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>GeoWaveInputFormat does not remove duplicate features that reference polygons spanning multiple index regions.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following algorithms are provided:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 16%;">
<col style="width: 83%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMeans++</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A K-Means implementation to find K centroids over the population of data.
A set of preliminary sampling iterations find an optimal value of K and the an initial set of K centroids.
The algorithm produces K centroids and their associated polygons.  Each polygon represents the concave hull
containing all features associated with a centroid.
The algorithm supports drilling down multiple levels. At each level, the set centroids are determined
from the set of features associated the same centroid from the previous level.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMeans Jump</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uses KMeans++ over a range of k, choosing an optimal k using an information theoretic based measurement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">KMeans Parallel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performs a KMeans Parallel Cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DBScan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Density Based Scanner algorithm produces a set of convex polygons for each region meeting density criteria.
Density of region is measured by a minimum cardinality of enclosed features within a specified distance from each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nearest Neighbors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A infrastructure component that produces all the neighbors of a feature within a specific distance.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="building-2"><a class="anchor" href="#building-2"></a>Building</h3>
<div class="paragraph">
<p>Build the GeoWave tools project as explained in the <a href="#building-tools-framework">"ToolsFramework &#8594; Building" section</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="running"><a class="anchor" href="#running"></a>Running</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">yarn jar geowave-tools.jar analytic &lt;algorithm&gt; &lt;options&gt; &lt;store&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above command will execute &lt;algorithm&gt; (such as dbscan), sourcing the data from the &lt;store&gt; datastore (see <a href="commands.html#config-addstore" target="_blank">config addstore in the GeoWave CLI commands</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="analytic-commands"><a class="anchor" href="#analytic-commands"></a>Analytic Commands</h3>
<div class="paragraph">
<p>The full list of GeoWave analytic commands can be found in the <a href="commands.html#analytic-commands" target="_blank">GeoWave CLI Appendix</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="query"><a class="anchor" href="#query"></a>Query</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A query in GeoWave currently consists of a set of ranges on the dimensions of the primary index. Up to three dimensions (plus temporal optionally) can take advantage of any complex OGC geometry for the query window. For dimensions of four or greater, the query can only be a set of ranges on each dimension (e.g., hyper-rectangle, etc.).</p>
</div>
<div class="sect2">
<h3 id="query-overview"><a class="anchor" href="#query-overview"></a>Overview</h3>
<div class="imageblock">
<div class="content">
<img src="./images/queryoverview1.png" alt="Query Architecture" width="80%">
</div>
<div class="title">Figure 15. Query Architecture</div>
</div>
<div class="paragraph">
<p>The query geometry is decomposed by GeoWave into a series of ranges on a one-dimensional number line based on a compact Hilbert space filling curve ordering. These ranges are sent through a batch scanner to all the tablet servers. These ranges represent the coarse grain filtering.</p>
</div>
<div class="paragraph">
<p>At the same time, the query geometry has been serialized and sent to custom iterators. These iterators then do a second stage filtering on each feature for an exact intersection test. Only if the stored geometry and the query geometry intersect does the processing chain continue.</p>
</div>
<div class="paragraph">
<p>A second order filter can then be applied. This is used to remove features based on additional attributes - typically time or other feature attributes. These operators can only exclude items from the set defined by the range, not any additional features — think "AND" operators - not "OR".</p>
</div>
<div class="paragraph">
<p>A final filter is possible on the client set, after all the returned results have been aggregated together. Currently, this is only used for final de-duplication. Whenever possible, the distributed filter options should be used, as it splits the work load among all the tablet servers.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="query-impl"><a class="anchor" href="#query-impl"></a>Query Implementation</h3>
<div class="paragraph">
<p>GeoWave queries must implement the <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/Query.java" target="_blank">org.locationtech.geowave.core.store.query.Query</a> interface.</p>
</div>
<div class="paragraph">
<p>Like most other query environments (e.g., SQL in RDBMS), queries can be as simple or as complex as necessary. The most basic query within GeoWave would be the <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/EverythingQuery.java" target="_blank">EverythingQuery</a>, equivilent to the SQL "star-search" query, where no constraints are added to the query.</p>
</div>
<div class="paragraph">
<p>A more useful example of a simple query to reference as an example with a constraint would be the <a href="https://github.com/locationtech/geowave/blob/master/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/SpatialQuery.java" target="_blank">SpatialQuery</a> or the <a href="https://github.com/locationtech/geowave/blob/master/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/TemporalQuery.java" target="_blank">TemporalQuery</a>.</p>
</div>
<div class="paragraph">
<p>While GeoWave query implementations can be customized to meet the specific needs of the data being ingested and/or indexed within GeoWave, the follow queries already exist in the latest version of GeoWave:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="./images/interface.png" alt="interface"></span> <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/Query.java" target="_blank">Query</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/AdapterIdQuery.java" target="_blank">AdapterIdQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/analytics/api/src/main/java/org/locationtech/geowave/analytic/clustering/DistortionGroupManagement.java#L131" target="_blank">BatchIdQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/DataIdQuery.java" target="_blank">DataIdQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/EverythingQuery.java" target="_blank">EverythingQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/PrefixIdQuery.java" target="_blank">PrefixIdQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/RowIdQuery.java" target="_blank">RowIdQuery</a></p>
</li>
<li>
<p><span class="image"><img src="./images/interface.png" alt="interface"></span> <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/DistributableQuery.java" target="_blank">DistributableQuery</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/BasicQuery.java" target="_blank">BasicQuery</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/SpatialQuery.java" target="_blank">SpatialQuery</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/IndexOnlySpatialQuery.java" target="_blank">IndexOnlySpatialQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/SpatialTemporalQuery.java" target="_blank">SpatialTemporalQuery</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/geotime/src/main/java/org/locationtech/geowave/core/geotime/store/query/TemporalQuery.java" target="_blank">TemporalQuery</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/query/CoordinateRangeQuery.java" target="_blank">CoordinateRangeQuery</a></p>
</li>
<li>
<p><a href="https://github.com/locationtech/geowave/blob/master/extensions/adapters/vector/src/main/java/org/locationtech/geowave/adapter/vector/query/cql/CQLQuery.java" target="_blank">CQLQuery</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="query-cql"><a class="anchor" href="#query-cql"></a>Contextual Query Language</h3>
<div class="paragraph">
<p>Queries are structured implementing the Contextual Query Language (CQL), formerly known/referred to as the Common Query Language. CQL was developed with the intent of being a formalized representation for queries in various databases or for other information in storage systems. It was intended to make queries more human readable and understandable while still maintaining the complexity that is often necessary.</p>
</div>
<div class="paragraph">
<p>CQL is used primarily by GeoServer for performing filters and queries on GeoWave data. For more details on this, please refer to the <a href="http://docs.geoserver.org/latest/en/user/tutorials/cql/cql_tutorial.html" target="_blank">GeoServer tutorials</a>.</p>
</div>
<div class="paragraph">
<p>For more information on the CQL specifications, please reference the <a href="http://www.loc.gov/standards/sru/cql/" target="_blank">official Library of Congress CQL standards</a> website. Additionally, examples and details on the Query Syntax can be found in the <a href="http://www.loc.gov/standards/sru/cql/spec.html" target="_blank">CQL specs section</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="services"><a class="anchor" href="#services"></a>Services</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="grpc"><a class="anchor" href="#grpc"></a>gRPC</h3>
<div class="paragraph">
<p>GeoWave&#8217;s gRPC service provides a way for remote gRPC client applications to interact with GeoWave.</p>
</div>
<div class="sect3">
<h4 id="grpc-protobuf"><a class="anchor" href="#grpc-protobuf"></a>gRPC Protobuf</h4>
<div class="paragraph">
<p>During the build process, GeoWave auto-generates protobuf message files (.proto) for all GeoWave commands that derive from the abstract class ServiceEnabledCommand. The source for the generation process may be found in the  geowave-grpc-protobuf-generator project. The auto-generated protobuf files, as well as any manually-generated GeoWave protobuf files can be located in the geowave-grpc-protobuf project. The protobuf files are compiled to their respective Java classes by this project as well. For more details on protobuf, please refer to the <a href="https://developers.google.com/protocol-buffers/" target="_blank">Protocol Buffers tutorials</a></p>
</div>
</div>
<div class="sect3">
<h4 id="grpc-server"><a class="anchor" href="#grpc-server"></a>gRPC server</h4>
<div class="paragraph">
<p>The gRPC server discovers and loads all GeoWave gRPC service implementations via the GeoWaveGrpcServiceSpi interface. The server code and gRPC service implementations may be found in the geowave-grpc-server project. This project also contains definitions for a few CLI commands to start and stop the server.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="third-party"><a class="anchor" href="#third-party"></a>Third Party</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="geoserver"><a class="anchor" href="#geoserver"></a>GeoServer</h3>
<div class="paragraph">
<p>GeoWave supports both raster images and vector data exposed through GeoServer. An in-depth overview of GeoServer is outside the scope of the developer guide. For details on GeoServer, as well as how to configure or add GeoWave datastores, please reference the <a href="userguide.html#geoserver" target="_blank">GeoWave User Guide</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation-from-rpm"><a class="anchor" href="#installation-from-rpm"></a>Installation from RPM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is a public <a href="packages.html" target="_blank">GeoWave RPM Repo</a> available with the various distribution packages available through GeoWave. The RPM Repo page will list the different packages and vendors available. For details and examples on how to search, install, and update GeoWave packages through command-line, please see the <a href="userguide.html#install-from-rpm" target="_blank">GeoWave User Guide</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="maven-repositories-2"><a class="anchor" href="#maven-repositories-2"></a>Maven Repositories</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-6"><a class="anchor" href="#overview-6"></a>Overview</h3>
<div class="paragraph">
<p>There are public maven repositories available for both release and snapshot GeoWave artifacts (no transitive dependencies). Automated deployment is available but requires a S3 access key (typically added to your ~/.m2/settings.xml).</p>
</div>
</div>
<div class="sect2">
<h3 id="maven-pom-fragments"><a class="anchor" href="#maven-pom-fragments"></a>Maven POM fragments</h3>
<div class="sect3">
<h4 id="releases"><a class="anchor" href="#releases"></a>Releases</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;repository&gt;
        &lt;id&gt;geowave-maven-releases&lt;/id&gt;
        &lt;name&gt;GeoWave AWS Release Repository&lt;/name&gt;
        &lt;url&gt;http://geowave-maven.s3-website-us-east-1.amazonaws.com/release&lt;/url&gt;
        &lt;releases&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/releases&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="snapshots"><a class="anchor" href="#snapshots"></a>Snapshots</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">    &lt;repository&gt;
        &lt;id&gt;geowave-maven-snapshot&lt;/id&gt;
        &lt;name&gt;GeoWave AWS Snapshot Repository&lt;/name&gt;
        &lt;url&gt;http://geowave-maven.s3-website-us-east-1.amazonaws.com/snapshot&lt;/url&gt;
        &lt;releases&gt;
            &lt;enabled&gt;false&lt;/enabled&gt;
        &lt;/releases&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="maven-settings-xml-fragments"><a class="anchor" href="#maven-settings-xml-fragments"></a>Maven settings.xml fragments</h3>
<div class="paragraph">
<p>You probably don&#8217;t need this unless you are deploying official GeoWave artifacts.</p>
</div>
<div class="sect3">
<h4 id="snapshots-2"><a class="anchor" href="#snapshots-2"></a>Snapshots</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml" data-lang="xml">  &lt;servers&gt;
    &lt;server&gt;
      &lt;id&gt;geowave-maven-releases&lt;/id&gt;
      &lt;username&gt;ACCESS_KEY_ID&lt;/username&gt;
      &lt;password&gt;SECRET_ACCESS_KEY&lt;/password&gt;
    &lt;/server&gt;
    &lt;server&gt;
      &lt;id&gt;geowave-maven-snapshots&lt;/id&gt;
      &lt;username&gt;ACCESS_KEY_ID&lt;/username&gt;
      &lt;password&gt;SECRET_ACCESS_KEY&lt;/password&gt;
    &lt;/server&gt;
  &lt;/servers&gt;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-third-party-plugins"><a class="anchor" href="#create-third-party-plugins"></a>Create Third-Party Plugins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section focuses on describing how to create GeoWave plugins for third-party components.</p>
</div>
<div class="ulist">
<div class="title">Current Options incude:</div>
<ul>
<li>
<p><a href="#geoserver-plugin">GeoServer</a></p>
</li>
<li>
<p><a href="#accumulo-plugin">Accumulo Plugin</a></p>
</li>
<li>
<p><a href="#hbase-plugin">HBase Plugin</a></p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="geoserver-plugin"><a class="anchor" href="#geoserver-plugin"></a>GeoServer Plugin</h3>
<div class="paragraph">
<p>This section will outline how to generate GeoServer plugin jar, which can be deployed and run within an operating GeoServer server in order to be able to perform GeoWave functionality within GeoServer.</p>
</div>
<div class="sect3">
<h4 id="geoserver-versions"><a class="anchor" href="#geoserver-versions"></a>GeoServer Versions</h4>
<div class="paragraph">
<p>GeoWave has to be built against specific versions of GeoWave and GeoTools. To see the currently supported versions, look at the build matrix section of the .travis.yml file in the root directory of the project.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-geoserver-plugin"><a class="anchor" href="#create-geoserver-plugin"></a>Create GeoServer Plugin</h4>
<div class="paragraph">
<p>First we need to build the GeoServer plugin. From the GeoWave root directory, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">mvn package -P geotools-container-singlejar <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can speed up the build by skipping tests by appending to the command "-Dfindbugs.skip=true -Dformatter.skip=true -DskipITs=true -DskipTests=true" (no quotes)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the above command is successfully run, the GeoServer plugin jar file can be found within the 'deploy/target/' directory.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume you have GeoServer deployed in a Tomcat container in '/opt/tomcat'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">cp deploy/target/*-geoserver-singlejar.jar /opt/tomcat/webapps/geoserver/WEB-INF/lib/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now re-start Tomcat.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Previous versions of the GeoWave RPMs (0.9.5 and below) used Jetty instead of Tomcat.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="accumulo-plugin"><a class="anchor" href="#accumulo-plugin"></a>Accumulo Plugin</h3>
<div class="paragraph">
<p>This section will outline how to generate an Accumulo plugin jar, that can be either deployed and run on either a single node or an operational and distributed cluster for interacting with Accumulo within GeoWave.</p>
</div>
<div class="sect3">
<h4 id="accumulo-versions"><a class="anchor" href="#accumulo-versions"></a>Accumulo Versions</h4>
<div class="paragraph">
<p>GeoWave has been tested and worked against Accumulo 1.5.0 through 1.7.2.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-accumulo-plugin"><a class="anchor" href="#create-accumulo-plugin"></a>Create Accumulo Plugin</h4>
<div class="paragraph">
<p>From the GeoWave root directory, run the following command to create the accumulo plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">mvn package -P accumulo-container-singlejar <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can speed up the build by skipping tests by appending to the command: "-Dfindbugs.skip=true -Dformatter.skip=true -DskipITs=true -DskipTests=true" (no quotes).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the above command is successfully run, the Accumulo plugin jar file can be found within the 'deploy/target/' directory.</p>
</div>
<div class="paragraph">
<p>For details on configuring Accumulo, please refer to the <a href="091-accumulo-config.html#accumulo-config">Accumulo Configuration section</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="hbase-plugin"><a class="anchor" href="#hbase-plugin"></a>HBase Plugin</h3>
<div class="paragraph">
<p>This section will outline how to generate an hbase plugin jar, that can be deployed and run on either a single node or an operational and distributed cluster for interacting with HBase within GeoWave.</p>
</div>
<div class="sect3">
<h4 id="hbase-versions"><a class="anchor" href="#hbase-versions"></a>HBase Versions</h4>
<div class="paragraph">
<p>GeoWave has been tested and worked against HBase 1.2.1 and forward.</p>
</div>
</div>
<div class="sect3">
<h4 id="create-hbase-plugin"><a class="anchor" href="#create-hbase-plugin"></a>Create HBase Plugin</h4>
<div class="paragraph">
<p>From the GeoWave root directory, run the following command to create the hbase plugin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">mvn package -P hbase-container-singlejar <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>You can speed up the build by skipping tests by appending to the command: "-Dfindbugs.skip=true -Dformatter.skip=true -DskipITs=true -DskipTests=true" (no quotes).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the above command is successfully run, the hbase plugin jar file can be found within the 'deploy/target/' directory.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jace-jni-proxies-2"><a class="anchor" href="#jace-jni-proxies-2"></a>Jace JNI Proxies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using Jace, we are able to create JNI proxy classes for GeoWave that can be used in C/C++ applications.</p>
</div>
<div class="paragraph">
<p>Boost is required when using the Jace bindings.</p>
</div>
<div class="sect2">
<h3 id="proxies"><a class="anchor" href="#proxies"></a>Prepackaged Source and Binaries</h3>
<div class="paragraph">
<p>There is a public <a href="packages.html" target="_blank">GeoWave RPM Repo</a> where you can download a tarball for the GeoWave Jace bindings for your desired platform. If your platform is not available, there is a source tarball that can be used in conjunction with CMake to build the GeoWave Jace bindings for your desired platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="generate-proxies-and-build-from-source"><a class="anchor" href="#generate-proxies-and-build-from-source"></a>Generate Proxies and Build from Source</h3>
<div class="paragraph">
<p>If you want, you can generate and build the Jace proxies yourself.</p>
</div>
<div class="sect3">
<h4 id="step-1-checkout-jace-and-geowave"><a class="anchor" href="#step-1-checkout-jace-and-geowave"></a>Step 1 - Checkout Jace and GeoWave</h4>
<div class="paragraph">
<p>First, we need to clone Jace and GeoWave.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ git clone git@github.com:jwomeara/jace.git
$ git clone git@github.com:locationtech/geowave.git</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: We are using a non-standard Jace implementation.</p>
</div>
</div>
<div class="sect3">
<h4 id="step-2-install-jace"><a class="anchor" href="#step-2-install-jace"></a>Step 2 - Install Jace</h4>
<div class="paragraph">
<p>First, we need to install Jace v1.3.0.  This is the software that is used to generate the C++ proxy classes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ cd jace
$ git checkout tags/v1.3.0
$ mvn clean install -Dsources</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="step-3-generate-geowave-jace-proxies"><a class="anchor" href="#step-3-generate-geowave-jace-proxies"></a>Step 3 - Generate GeoWave Jace Proxies</h4>
<div class="paragraph">
<p>Here, we will specify a Maven profile that specifies that we are building jace proxies.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ cd geowave
$ mvn clean package -pl deploy -am -P generate-geowave-jace -DskipTests</code></pre>
</div>
</div>
<div class="paragraph">
<p>This generates the source and header files required to build GeoWave.  To build the library, simply run cmake, followed by make.</p>
</div>
<div class="paragraph">
<p>Note: To build static libraries, use "-DBUILD_SHARED_LIBS=OFF". Otherwise use "-DBUILD_SHARED_LIBS=ON" (no quotes).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mapnik-plugin-configuration"><a class="anchor" href="#mapnik-plugin-configuration"></a>Mapnik Plugin Configuration</h3>
<div class="sect3">
<h4 id="mapnik"><a class="anchor" href="#mapnik"></a>Mapnik</h4>
<div class="paragraph">
<p><a href="http://mapnik.org/">Mapnik</a> is an open source toolkit for developing mapping applications. GeoWave is supported as a plugin for Mapnik for reading vector data from Accumulo.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="pdal-plugin-configuration"><a class="anchor" href="#pdal-plugin-configuration"></a>PDAL Plugin Configuration</h3>
<div class="sect3">
<h4 id="pdal"><a class="anchor" href="#pdal"></a>PDAL</h4>
<div class="paragraph">
<p>The Point Data Abstraction Library <a href="http://www.pdal.io/index.html">PDAL</a> is a BSD licensed library for translating and manipulating point cloud data of various formats. GeoWave is supported as a plugin for PDAL for both reading and writing data to Accumulo.</p>
</div>
<div class="paragraph">
<p>Note: These instructions assume that you are using prepackaged binaries.</p>
</div>
</div>
<div class="sect3">
<h4 id="configure-cmake-for-pdal"><a class="anchor" href="#configure-cmake-for-pdal"></a>Configure CMake for PDAL</h4>
<div class="paragraph">
<p>To configure PDAL to run with GeoWave, there are a few CMake options that need to be configured. While some of the options (namely the JAVA options) may configure automatically, some will need to be set manually. Refer to the table below to get an idea for how these options would be configured on Ubuntu 14.04 LTS.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 50%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Automatically Configured?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BUILD_PLUGIN_GEOWAVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ON</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BUILD_GEOWAVE_TESTS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ON</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOWAVE_RUNTIME_JAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/path/to/geowave/geowave-runtime.jar</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOWAVE_INCLUDE_DIR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/path/to/geowave/include</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOWAVE_LIBRARY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/path/to/geowave/libgeowave.so</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_AWT_INCLUDE_PATH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_INCLUDE_PATH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/include</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_INCLUDE_PATH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/include/linux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_AWT_LIBRARY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/jre/lib/amd64/libjawt.so</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAVA_JVM_LIBRARY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/usr/lib/jvm/java-8-oracle/jre/lib/amd64/server/libjvm.so</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note: As Boost is a PDAL dependency, it should already be included.</p>
</div>
</div>
<div class="sect3">
<h4 id="build-pdal"><a class="anchor" href="#build-pdal"></a>Build PDAL</h4>
<div class="paragraph">
<p>Once CMake is configured, you can proceed with your normal PDAL build process.</p>
</div>
<div class="paragraph">
<p>Last but not least when building shared libraries, you should ensure that the libraries specified above are available via PATH or LD_LIBRARY_PATH.</p>
</div>
<div class="paragraph">
<p>Within the PDAL documentation, you can see examples of how GeoWave can be used as both a <a href="http://www.pdal.io/stages/readers.geowave.html" target="_blank">reader</a> and <a href="http://www.pdal.io/stages/writers.geowave.html" target="_blank">writer</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation-2"><a class="anchor" href="#documentation-2"></a>Documentation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview-7"><a class="anchor" href="#overview-7"></a>Overview</h3>
<div class="paragraph">
<p>The documentation is writen in <a href="http://www.methods.co.nz/asciidoc/index.html" target="_blank">AsciiDoc</a> which is a plain-text markup format that can be created using any text editor and read “as-is”, or rendered to several other formats like HTML, PDF or EPUB.</p>
</div>
<div class="paragraph">
<p>Helpful Links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://asciidoctor.org/docs/what-is-asciidoc/" target="_blank">What is Asciidoc?</a></p>
</li>
<li>
<p><a href="http://asciidoctor.org/docs/asciidoc-writers-guide/" target="_blank">Writer&#8217;s Guide</a></p>
</li>
<li>
<p><a href="http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/" target="_blank">AsciiDoc Syntax Reference</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ordering"><a class="anchor" href="#ordering"></a>Ordering</h3>
<div class="paragraph">
<p>All of the content stored in the <code>docs/content</code> directory of this project will be rendered into a single webpage with an auto-generated table of contents and a PDF. The order in which the pages appear is determined by the sort order of the file names given to the ASCIIDOC files in the <code>docs/content</code> directory, so a numeric prefix has been given to each file. Gaps can be left in between the numbers (only the sort order is important) to allow for future edits without having to renumber other documents that will appear after the new content.</p>
</div>
</div>
<div class="sect2">
<h3 id="preview"><a class="anchor" href="#preview"></a>Preview</h3>
<div class="paragraph">
<p>To preview markup as HTML before making a commit, there are plugins available, and various text editors and IDEs, that can be used while editing. If your preferred text editor has no plugin available, there&#8217;s a <a href="https://github.com/asciidoctor/asciidoctor-firefox-addon" target="_blank">Firefox AsciiDoc Plugin</a> available that allows for previewing with a quick refresh of the browser.</p>
</div>
</div>
<div class="sect2">
<h3 id="site"><a class="anchor" href="#site"></a>Site</h3>
<div class="paragraph">
<p>To build all the content used for the entire finished web page or the generated PDF for the <a href="https://locationtech.github.io/geowave/" target="_blank">GeoWave website</a>, use the following command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cd geowave
mvn -P {FORMAT} install <i class="conum" data-value="1"></i><b>(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Supported formats include 'pdf' and 'html' (no quotes).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The entire site, including both docs and javadocs, will be available for inspection in the <code>geowave/target/site/</code> directory.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendices"><a class="anchor" href="#appendices"></a>Appendices</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="version"><a class="anchor" href="#version"></a>Version</h3>
<div class="paragraph">
<p>This documentation was generated for GeoWave version 1.0.0-SNAPSHOT.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="geowave-project-descriptions"><a class="anchor" href="#geowave-project-descriptions"></a>GeoWave Project Descriptions</h3>
<div class="paragraph">
<p>The table below outlines the different project hierarchies within the GeoWave project</p>
</div>
<table class="tableblock frame-topbot grid-rows spread">
<colgroup>
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 4%;">
<col style="width: 9%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="5">Path</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">geowave</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parent directory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of analytics provided for GeoWave Datasets. Extensions to geowave-core-mapreduce for particular methodogies (spark on hadoop/yarn or mapreduce on hadoop/yarn).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">api</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Analytics API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave APIs and re-usable analytic code that can be shared across specific external frameworks, e.g., mapreduce and spark</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">mapreduce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave MapReduce Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific algorithms written in mapreduce for GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">spark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Spark Analytics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific algorithms written for spark on GeoWave data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of base functionalities provided for all configurations of GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">cli</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Core CLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command Line Interface for GeoWave Tools. Builds on store to provide the commandline tool framework for interacting with GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">geotime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Spatial and Temporal Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds on the core store and index modules special casing the multidimensional index problem as spatial and spatial-temporal index on a sorted key value store</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Index</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Focused on the problem of maintaining good lexicographic sort order for multidimensional data, exposed primarily through NumericIndexStrategy, i.e., how do I form my key in the key-value store</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">ingest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Ingest Framework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds on cli to provide the ingest commandline tools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">mapreduce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave MapReduce</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builds on store to provide the basic analytic components for running jobs on Hadoop. Primarily, this exposes Hadoop input and output formats for GeoWave that can be used to intelligently distribute jobs across GeoWave data within the context of any distributed processing framework run on YARN such as Spark or MapReduce.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Store</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Focused on applying that indexing to a sorted key value store, exposed primarily through DataStore, i.e., how to persist and retrieve objects by its multi-dimensional bounds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">deploy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Deployment Configurations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Various scripts for packaging and deploying GeoWave in production</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">dev-resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Development Resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development resources and settings for GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation, primarily in the form of asciidoc that can be compiled into a variety of formats including HTML, PDF, EPUB, and others (everything seen on <a href="http://locationtech.github.io/geowave" target="_blank">http://locationtech.github.io/geowave</a> is automatically built and published on each commit)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Some very basic code examples for reading and writing vector data in GeoWave, and running some basic analytics. This is a great and simple place to contribute if you see a gap that you think should be covered.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">extensions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extensions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of extended capabilities supported for GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">adapters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extension Adapaters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A DataAdapter in the system is essentially responsible for taking any java object and handling serialization/deserialization to/from the value portion of the key-value pair. It&#8217;s called <em>encode</em> and <em>decode</em> in the code because it is a little more complex than just <em>serialization</em> and _deserialization-, but in general, the over-simplified high-level view is that the <a href="https://github.com/locationtech/geowave/blob/master/core/index/src/main/java/org/locationtech/geowave/core/index/NumericIndexStrategy.java" target="_blank">NumericIndexStrategy</a> from geowave-core-index handles building a good key, and the <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/adapter/DataAdapter.java" target="_blank">DataAdapter</a> handles building a good value, then the <a href="https://github.com/locationtech/geowave/blob/master/core/store/src/main/java/org/locationtech/geowave/core/store/DataStore.java" target="_blank">DataStore</a> has no direct logic for mapping the java object to a key or a value. If you have a new java object, you can write a new adapter independent of specific datastores. Likewise, if you have a new strategy for indexing or a different dimensionality to index, that would be independent of any of the specific datastores (ie. you can simply write your own adapter if you have a unique dataset and it can store your data with any indexing scheme on any backend datastore).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">auth</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization functionality for GeoWave Data Adapters</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave Raster Adapter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DataAdapter for GridCoverage data (e.g., "raster" data in GIS vocabulary) is RasterDataAdapter, this also contains GeoTools/GeoServer extensions for GeoWave raster data within the plugin package.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave Vector Adapter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DataAdapter for SimpleFeature data (e.g., "vector" data in GIS vocabulary) is FeatureDataAdapter, this also contains geotools/geoserver extensions for GeoWave vector data within the plugin package</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">cli</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extension CLI&#8217;s</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other tools plugin, that can be included as a command in the commandline framework, this is where any tool goes that plugins in to geowave-core-cli as commands for GeoWave. GeoWave services are now available, which automatically exposes CLI commands as service endpoints.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Debug Commandline Tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of ad-hoc debug tools available through the command line that can be applied to GeoWave data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geoserver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave GeoServer Commandline Tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Commandline Tools for Managing GeoServer Layers and Data Stores</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">landsat8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave LandSat8 Operations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave support for public LandSat8 data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">osm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave OSM Commandline Tools</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OSM Data processing system for GeoWave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">datastores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave DataStores</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The only dependency on a particular datastore (e.g., Accumulo, HBase), the rest of the project is independent of the datastore; the intent is to keep as much reusuable code outside of the concrete datastore implementation as can be sensible</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">accumulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Accumulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave Data Store on Apache Accumulo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">bigtable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave BigTable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave Data Store on Google BigTable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">hbase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave HBase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geowave Data Store on Apache HBase</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Extension Formats</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A format plugin in the system is an extension to the commandline ingest framework, providing a means to read data from a particular format of interest and map it to a particular adapter; in the open source project, we provide a variety of vector formats and a single raster format that wraps a popular library; GeoTools ("geotools-vector" format covers all formats supported by GeoTools and geotools-raster covers all raster formats supported by geotools, each covering a large variety of popular geospatial formats)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">avro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Avro Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Avro data matching GeoWave&#8217;s generic vector avro schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">gdelt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GDELT Format Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Google Ideas' GDELT dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geolife</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GeoLife Format Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Microsoft Research&#8217;s GeoLife dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geotools-raster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Raster Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for all raster formats that are supported within geotools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">geotools-vector</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Vector Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for all vector formats that are supported within geotools</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">gpx</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave GPX Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for GPX data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">stanag4676</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave stanag4676 support for the NATO specification for track data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-format-4676</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The GeoWave stanag4746 format implementation supports ingest of tracks, track points, motion events, and associated image chips into GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">geowave-service-4676</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The GeoWave stanag4746 service implementation provides a rest endpoint to get the image chips per point and motion event, and stitch videos together per track.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">tdrive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave T-Drive Format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for Microsoft Research&#8217;s T-Drive dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">twitter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Twitter Format Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave ingest support for twitter JSON data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The set of REST services and clients provided for interacting with GeoWave.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">api</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Services API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service APIs for use when interfacing with GeoWave as a consumer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Java Client for REST services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Java clients exposing GeoWave CLI interfaces and functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"></td>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">webapp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave REST Services WebApp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The server-side implementation of GeoWave services API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock">test</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoWave Integration Tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A module for integration and functional tests of GeoWave. Integration tests for end-to-end functionality with local test environments for each datastore (often can serve as examples as well, but typically the intent of examples is to be simple and straightforward; the integration tests are more complex, but certainly more inclusive of a variety of functionality)</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="theory"><a class="anchor" href="#theory"></a>Theory</h3>
<div class="sect3">
<h4 id="spatial-index"><a class="anchor" href="#spatial-index"></a>Spatial Index</h4>
<div class="paragraph">
<p>GeoWave creates a spatial index to represent multi-dimensional data in a manner that can be reduced to a series of ranges on a 1 dimensional number line.
Examples of these include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>latitude, longitude</p>
</li>
<li>
<p>latitude, longitude, time</p>
</li>
<li>
<p>latitude, longitude, altitude, time</p>
</li>
<li>
<p>feature vector1, feature vector 2 (…), feature vector n</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is due to the way big-table-based databases store the data – as a sorted set of key/value pairs.</p>
</div>
<div class="paragraph">
<p>The goal is to provide a property that ensures values close in n-dimensional space are still close in 1-dimensional space. There are a few reasons for this, but primarily it’s so we can represent an n-dimensional range selector (bbox typically, but can be abstracted to a hyper-rectangle) as a smaller number of highly contiguous 1-dimensional ranges.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/sfc1.png" alt="Z-Curve: 2D -&gt; 1D" width="100%">
</div>
<div class="title">Figure 16. Z-Order curve based dimensional decomposition</div>
</div>
<div class="paragraph">
<p>Fortunately, there is already a type of transform that describes this operation in mathematics called a “Space Filling Curve” (SFC). Different SFCs have different properties, but they all take an n-dimensional space and describe a set of steps to trace all points in a single sequence.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/curves.png" alt="Various space filling curves" width="100%">
</div>
<div class="title">Figure 17. Haverkort, Walderveen Locality and Bounding-Box Quality of Two-Dimensional Space-Filling Curves 2008 arXiv:0806.4787v2</div>
</div>
<div class="paragraph">
<p>The trade-offs for the various curves are outside the scope of this user manual, but the paper cited for Figure two is an excellent starting point to start learning about these curves.</p>
</div>
<div class="paragraph">
<p>GeoWave supports two space filling curves: Z-Order and Hilbert, with the latter being the primary implementation.</p>
</div>
<div class="sect4">
<h5 id="hilbert-sfc"><a class="anchor" href="#hilbert-sfc"></a>Hilbert SFC</h5>
<div class="paragraph">
<p>The Hilbert curve is a bit more complex to work with than the Z-curve, both when calculating and when performing a decomposition. Nevertheless it is popular in certain areas in computer science where multiple variables need to be set in a linear order – process scheduling for one. A simplistic view of a standard projections of the earth mapped to a Hilbert curve would look something like the image below, which shows 4 bits of cardinality per dimension (how many buckets we have).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbert1.png" alt="Hilbert SFC" width="100%">
</div>
<div class="title">Figure 18. Hilbert space filling curve superimposed over a projection of the earth</div>
</div>
<div class="paragraph">
<p>Note that the cardinality (number of buckets per dimensions) has an impact on the resolution of our Hilbert index. Here we map from -180 to +180 over 16 buckets so we have resolution of no better than 360/16, or 22.5 degrees for longitude (and incidentally 11.25 degrees for latitude). This doesn’t mean we can’t represent values more precisely than this. It just means that our initial (coarse) index (based on SFC ranges) can’t provide resolution any better than this. Adding more bits per dimensions will increase the precision of the SFC-based index.</p>
</div>
</div>
<div class="sect4">
<h5 id="z-order-sfc"><a class="anchor" href="#z-order-sfc"></a>Z-Order SFC</h5>
<div class="paragraph">
<p>This is also commonly called a GeoHash or Morton order, and sometimes is incorrectly called a Peano curve. This is the most popular SFC used for multi-dimensional &#8594; 1-dimensional mappings primarily because it is very easy to implement in code.</p>
</div>
<div class="paragraph">
<p>To implement this, ideally, a bit-interleaving approach is used (that is what gives rise to the diagram in the figure <em>Z-Order curve based dimensional decomposition</em>). Imagine we had two numbers, A and B. Let the binary representation of those numbers be A1A2A3 and B1B2B3. The “bit interleaved” version would be A1B1A2B2A3B3. Since we are working with binary numbers this gives a “unit cell” of 2x2. If we added dimensions, just imagine the same interleaving, but another term — C1C2C3, etc. This is sometimes implemented in <em>Base 10</em> instead of <em>Base 2</em>. This implementation somewhat reduces the locality (“packing property” – or the measure of how close numbers in n-dimensional space are to numbers in 1-dimensional space). As you might expect a 2-dimensional version of this gives a unit cell of 10x10 (for two dimensions) – hence the worse packing.</p>
</div>
</div>
<div class="sect4">
<h5 id="xz-order-sfc"><a class="anchor" href="#xz-order-sfc"></a>XZ-Order SFC</h5>
<div class="paragraph">
<p>The XZ-Order SFC is an extension of Z-Ordering, and designed to map spatial objects. This is done by extending the region of each Z-Order dimension by 2, in order to support mapping spatial - non-point - objects, such as polygons or rectangles.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="theorydecomposition"><a class="anchor" href="#theorydecomposition"></a>Decomposition</h4>
<div class="paragraph">
<p>Range decomposition is the core to the concept of SFC-based indexing. This is when we take a range described in multiple dimensions and turn it into a series of 1-dimensional ranges.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp1.png" alt="Hilbert Decomposition 1" width="70%">
</div>
<div class="title">Figure 19. Hilbert Decomposition 1</div>
</div>
<div class="paragraph">
<p><em>Figure: Hilbert Ranges</em></p>
</div>
<div class="paragraph">
<p>In the figure above we show what we mean by this. The bounding box described by the blue selection window, or (2,9) &#8594; (5,13), will “fully” decompose to 3 ranges – 70&#8594;75, 92&#8594;99, and 116&#8594;121.</p>
</div>
<div class="paragraph">
<p>It should be noted that sometimes more simplistic algorithms will not fully decompose, but would instead represent this as 70&#8594;121 or even 64&#8594;127 (the smallest “unit cell” this box fits in). As you can see, this would result in scanning many extraneous cells.</p>
</div>
<div class="paragraph">
<p>At some point, with high precision, high dimensionality curves, the number of possible unit cells can become too large to deal with. In such a case, GeoWave optimizes this by treating the curve as a “lower cardinality” curve than it actually is. So the unit cell size might not be 1, but instead 64, 128, 1024, etc. This allows the user to still achieve high precision when selection windows are small but not spend an inordinate amount of time fully decomposing for large selection windows.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp2.png" alt="Hilbert Decomposition" width="75%">
</div>
<div class="title">Figure 20. Hilbert Decomposition 2</div>
</div>
<div class="sect4">
<h5 id="consider-a-region-query-asking-for-all-data-from"><a class="anchor" href="#consider-a-region-query-asking-for-all-data-from"></a>Consider a region query asking for all data from:</h5>
<div class="listingblock">
<div class="content">
<pre> (1,1) -&gt; (5,4)</pre>
</div>
</div>
<div class="paragraph">
<p>This query range is shown at left by a blue bounding box.</p>
</div>
</div>
<div class="sect4">
<h5 id="what-did-we-do-here"><a class="anchor" href="#what-did-we-do-here"></a>What did we do here?</h5>
<div class="ulist">
<ul>
<li>
<p>We broke down the initial region into 4 subregions (Red boxes).</p>
</li>
<li>
<p>We broke down each subregion (red box) into 4 sub-sub regions (purple boxes).</p>
</li>
<li>
<p>We then broke down each of those purple boxes into green boxes.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Once we had a decomposed quad that is full contained by the bounding box we stopped decomposing.</p>
</li>
<li>
<p>We didn’t bother decomposing regions that didn’t overlap the original search criteria.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp3.png" alt="Hilbert Decomposition" width="75%">
</div>
<div class="title">Figure 21. Hilbert Decomposition 3</div>
</div>
<div class="paragraph">
<p>Here we see the query range fully decomposed into the underlying "quads". Note that in some instances we were able to stop decomposing when the query window fully contained the quad (segment 3 and segment 8).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/hilbertdecomp4.png" alt="Hilbert Decomposition" width="75%">
</div>
<div class="title">Figure 22. Hilbert Decomposition 4</div>
</div>
<div class="paragraph">
<p>Now we have fully transitioned to the 1-dimensional number line from the previous set of quads. We have also rolled together regions that are contiguous.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-10-11 01:46:08 +00:00
</div>
</div>
</body>
</html>